-------------------------------------------------------------------------------------- PROJECT:				CSG ~ Community of Social Gaming-- DEVELOPERS: 				Smart-- RIGHTS: 				All rights reserved by developers------------------------------------------------------------------------------------local hitmanPositions = {	{1775.450, -1898.496, 13.386};	{1243.896, -2038.554, 59.887};	{2817.511, -1848.334, 11.155};	{2817.511, -1848.334, 11.155};	{2817.511, -1848.334, 11.155};	{2817.511, -1848.334, 11.155};	{2550.036, -1042.852, 69.029};	{1378.617, -862.600, 40.791};	{2402.350, -1383.118, 23.732};	{2402.350, -1383.118, 23.732};	{1945.839, 726.611, 10.854};	{1945.839, 726.611, 10.854};	{1945.839, 726.611, 10.854};	{1945.839, 726.611, 10.854};	{1945.839, 726.611, 10.854};	{-2216.869, 606.998, 35.203};	{-2335.411, -139.753, 35.590};	{-2203.503, 61.812, 35.348};}function isPlayerCriminal(player)	if (getElementData(player, "Occupation") == "Criminal") then		return true	else		return false	endendfunction startHitman()	if (isElement(hitmanPed)) then return end	if (isPlayerCriminal(localPlayer)) then		if (isTimer(triggerTimer)) then killTimer(triggerTimer) end		local index = math.random(#hitmanPositions)			local posX, posY, posZ = hitmanPositions[index][1], hitmanPositions[index][2], hitmanPositions[index][3]		local x, y, z = getElementPosition(localPlayer)		money = math.floor(getDistanceBetweenPoints3D(posX, posY, posZ, x, y, z)) / 2		cancelHitTimer = setTimer(cancelHit, 600000, 1)		hitmanPed = createPed(math.random(1, 300), posX, posY, posZ)		hitmanBlip = createBlipAttachedTo(hitmanPed, 41)		hitmanMarker = createMarker(posX, posY, posZ + 2.5, "arrow", 1, 225, 0, 0)		exports.DENdxmsg:createNewDxMessage("A hit has been placed on a ped located in "..getZoneName(posX, posY, posZ)..", "..getZoneName(posX, posY, posZ, true), 225, 0, 0)		if (not hitmanPed) then			hitmanPed = createPed(1, posX, posY, posZ)		end	endendaddEvent("CSGhitman.startHitman", true)addEventHandler("CSGhitman.startHitman", root, startHitman)function onHitmanPedWasted(killer)	if (source == hitmanPed) then		if (isElement(hitmanPed)) then destroyElement(hitmanPed) end		if (isElement(hitmanBlip)) then destroyElement(hitmanBlip) end		if (isElement(hitmanMarker)) then destroyElement(hitmanMarker) end		triggerServerEvent("CSGhitman.hitmanPedDead", killer, money)	endendaddEventHandler("onClientPedWasted", root, onHitmanPedWasted)function cancelHit()	if (isElement(hitmanPed)) then		if (isTimer(cancelHitTimer)) then killTimer(cancelHitTimer) end		if (isElement(hitmanPed)) then destroyElement(hitmanPed) end		if (isElement(hitmanBlip)) then destroyElement(hitmanBlip) end		if (isElement(hitmanMarker)) then destroyElement(hitmanMarker) end		triggerTimer = setTimer(startHitman, 300000, 1)		exports.DENdxmsg:createNewDxMessage("The time ran out and you didn't kill the ped.", 225, 0, 0)	endendfunction triggerHitman()	for index, players in ipairs(getElementsByType("player")) do		triggerEvent("CSGhitman.startHitman", players)	endendsetTimer(triggerHitman, 50000, 0)function onPlayerChangeJob(dname, oname)	if (oname == "Criminal" and dname ~= "Criminal") then		if (isElement(hitmanPed)) then			if (isElement(hitmanPed)) then destroyElement(hitmanPed) end			if (isElement(hitmanBlip)) then destroyElement(hitmanBlip) end			if (isElement(hitmanMarker)) then destroyElement(hitmanMarker) end		end	endendaddEventHandler("onClientElementDataChange", root, onPlayerChangeJob)